<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Map Places</title>
        <link rel="shortcut icon" th:href="@{/images/favicon.png}" type="image/png"/>
        <link th:href="@{/css/map_places.css}" rel="stylesheet">
    </head>
    <body>
        <div class="content">
            <h1>Map Places</h1>

            <div id="map"></div>

            <button onclick="toggleAddPlaceForm()">Add Place</button>
            <div id="addPlaceForm">
                <div class="addPlaceInput">
                    <label for="placeTitle">Title</label>
                    <input type="text" id="placeTitle" />
                </div>
                <div class="addPlaceInput">
                    <label for="placeDescription">Description</label>
                    <input type="text" id="placeDescription" class="addPlaceInput" />
                </div>
                <div class="addPlaceInput">
                    <label for="placeLatitude">Latitude</label>
                    <input type="text" id="placeLatitude" class="addPlaceInput" />
                </div>
                <div class="addPlaceInput">
                    <label for="placeLongitude">Longitude</label>
                    <input type="text" id="placeLongitude" class="addPlaceInput" />
                </div>
                <div class="addPlaceInput">
                    <label for="placeOpeningHours">Opening hours</label>
                    <input type="text" id="placeOpeningHours" class="addPlaceInput" />
                </div>

                <button id="addPlaceButton" onclick="addPlace()">Save</button>
            </div>

            <div id="places" th:if="${places != null}" th:fragment="placesList">
                <ul th:each="place : ${places}">
                    <li th:text="${place.title}">Title</li>
                </ul>
            </div>

            <script th:src="@{js/map_places.js}"></script>
            <script th:inline="javascript" th:src="${map_url}"></script>
            <script th:inline="javascript" async defer>
                /*<![CDATA[*/
                    const places = /*[[${places}]]*/ [];
                /*]]>*/
                initPlaces(places);
            </script>
        </div>
    </body>
</html>